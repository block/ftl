// Code generated by FTL. DO NOT EDIT.
package database

import (
	"context"
	"github.com/alecthomas/types/tuple"
	"github.com/block/ftl/common/reflection"
	"github.com/block/ftl/go-runtime/ftl"
	"github.com/block/ftl/go-runtime/server"
)

type CreateRequestQuery struct {
	Data ftl.Option[string]
}
type GetRequestDataResult struct {
	Data ftl.Option[string]
}

type CreateRequestClient func(context.Context, CreateRequestQuery) error

type GetRequestDataClient func(context.Context) ([]GetRequestDataResult, error)

func init() {
	reflection.Register(
		server.QuerySink[CreateRequestQuery]("database", "createRequest", reflection.CommandTypeExec, "testdb", "postgres", "INSERT INTO requests (data) VALUES ($1)", []string{"Data"}, []tuple.Pair[string, string]{}),
		server.QuerySource[GetRequestDataResult]("database", "getRequestData", reflection.CommandTypeMany, "testdb", "postgres", "SELECT data FROM requests", []string{}, []tuple.Pair[string, string]{tuple.PairOf("data", "Data")}),
	)
}
