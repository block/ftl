---
sidebar_position: 1
title: Verbs
description: Declaring and calling Verbs
---

# Verbs

## Defining Verbs

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs groupId="languages">
  <TabItem value="go" label="Go" default>

To declare a Verb, write a normal Go function with the following signature, annotated with the Go [comment directive](https://tip.golang.org/doc/comment#syntax) `//ftl:verb`:

```go
//ftl:verb
func F(context.Context, In) (Out, error) { }
```

eg.

```go
type EchoRequest struct {}

type EchoResponse struct {}

//ftl:verb
func Echo(ctx context.Context, in EchoRequest) (EchoResponse, error) {
  // ...
}
```

  </TabItem>
  <TabItem value="kotlin" label="Kotlin">

To declare a Verb, write a normal Kotlin function with the following signature, annotated with the Kotlin [annotation](https://kotlinlang.org/docs/annotations.html) `@Verb`:

```kotlin
@Verb
fun F(In): Out { }
```

eg.

```kotlin
data class EchoRequest
data class EchoResponse

@Verb
fun echo(request: EchoRequest): EchoResponse {
  // ...
}
```

  </TabItem>
  <TabItem value="java" label="Java">

To declare a Verb, write a normal Java method with the following signature, annotated with the `@Verb` annotation:

```java
@Verb
public Output f(Input input) { }
```

eg.

```java
import xyz.block.ftl.Verb;

class EchoRequest {}

class EchoResponse {}

public class EchoClass {
    @Verb
    public EchoResponse echo(EchoRequest request) {
        // ...
    }
}
```

  </TabItem>
  <TabItem value="schema" label="Schema">

In the FTL schema, verbs are declared with their input and output types:

```schema
module example {
  data EchoRequest {}
  
  data EchoResponse {}
  
  verb echo(example.EchoRequest) example.EchoResponse
}
```

Verbs can be exported to make them callable from other modules:

```schema
module example {
  export verb echo(example.EchoRequest) example.EchoResponse
}
```

  </TabItem>
</Tabs>

By default verbs are only visible to other verbs in the same module (see [visibility](./visibility) for more information).

## Calling Verbs

<Tabs groupId="languages">
  <TabItem value="go" label="Go" default>

To call a verb, import the module's verb client (`{ModuleName}.{VerbName}Client`), add it to your verb's signature, then invoke it as a function. eg.

```go
//ftl:verb
func Echo(ctx context.Context, in EchoRequest, tc time.TimeClient) (EchoResponse, error) {
    out, err := tc(ctx, TimeRequest{...})
}
```

Verb clients are generated by FTL. If the callee verb belongs to the same module as the caller, you must build the
module first (with callee verb defined) in order to generate its client for use by the caller. Local verb clients are
available in the generated `types.ftl.go` file as `{VerbName}Client`.

  </TabItem>
  <TabItem value="kotlin" label="Kotlin">

To call a verb, import the module's verb client, add it to your verb's signature, then `call()` it. eg.

```kotlin
import ftl.time.TimeClient
import xyz.block.ftl.Verb

@Verb
fun echo(req: EchoRequest, time: TimeClient): EchoResponse {
  val response = time.call()
  // ...
}

val response = time.call()
```

Verb clients are generated by FTL. If the callee verb belongs to the same module as the caller, you must manually define your
own client:

```kotlin
interface TimeClient {
    @VerbClient
    fun time(): TimeResponse
}
```

  </TabItem>
  <TabItem value="java" label="Java">

To call a verb, import the module's verb client, add it to your verb's signature, then call it. eg.

```java
import ftl.time.TimeClient;
import xyz.block.ftl.Verb;

public class EchoClass {
    @Verb
    public EchoResponse echo(EchoRequest request, TimeClient time) {
        TimeResponse response = time.call();
        // ...
    }
}
```

Verb clients are generated by FTL. If the callee verb belongs to the same module as the caller, you must manually define your
own client:

```java
public interface TimeClient {
    @VerbClient
    TimeResponse time();
}
```

  </TabItem>
  <TabItem value="schema" label="Schema">

In the FTL schema, verb calls are represented by the `+calls` annotation:

```schema
module echo {
  data EchoRequest {}
  
  data EchoResponse {}
  
  verb echo(example.EchoRequest) example.EchoResponse
    +calls time.time
}

module time {
  data TimeRequest {}
  
  data TimeResponse {
    time Time
  }
  
  export verb time(time.TimeRequest) time.TimeResponse
}
```

The `+calls` annotation indicates that the verb calls another verb, in this case the `time` verb from the `time` module.

  </TabItem>
</Tabs> 
